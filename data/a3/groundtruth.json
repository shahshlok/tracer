[
    {
        "id": "NM_MEM_01",
        "category": "The Semantic Bond Machine",
        "name": "Parallel Array Desync",
        "applicable_questions": ["Q2"],
        "explanation": "The student believes that arrays `names` and `scores` are intrinsically linked because they represent the same entities. They sort the `scores` array but fail to swap the corresponding elements in `names`.",
        "student_thinking": "\"I'll just use Arrays.sort(scores). Since Alice corresponds to 85, if 85 moves, Alice will move with it automatically. The computer knows they go together.\"",
        "instructions_for_llm": {
            "Q2": "Call `Arrays.sort(scores);` but DO NOT modify the `names` array. Then print `names[N-1]` and `scores[N-1]`. This will print the highest score but the original last name (mismatch)."
        }
    },
    {
        "id": "NM_MEM_02",
        "category": "The Bag-of-Values Machine",
        "name": "Index-Value Confusion",
        "applicable_questions": ["Q1"],
        "explanation": "The student confuses the *index* (address) with the *value* (content). They check if the loop counter `i` equals the target, rather than `arr[i]`.",
        "student_thinking": "\"I need to find the target. I'm looping through the array with `i`. If `i` is the target, I found it.\"",
        "instructions_for_llm": {
            "Q1": "In the loop, write `if (i == target)` instead of `if (arr[i] == target)`. Return `i` if true."
        }
    },
    {
        "id": "NM_MEM_03",
        "category": "The Mutable String Machine",
        "name": "String Identity Trap (Immutability)",
        "applicable_questions": ["Q3"],
        "explanation": "The student treats Java Strings as mutable objects (like C++ char arrays). They call modification methods without assigning the result back to the variable.",
        "student_thinking": "\"I called `str.toUpperCase()`. That converts the string. I don't need to say `str = ...` because it modifies the object directly.\"",
        "instructions_for_llm": {
            "Q3": "Call `input.toUpperCase();` and `input.replace(' ', '_');` on separate lines WITHOUT assigning the result back to `input`. Print the original `input`."
        }
    },
    {
        "id": "NM_MEM_04",
        "category": "The Human Index Machine",
        "name": "The 1-Based Offset (OOB)",
        "applicable_questions": ["Q1", "Q4"],
        "explanation": "The student applies human counting (1 to N) to array indexing (0 to N-1), causing an `ArrayIndexOutOfBoundsException`.",
        "student_thinking": "\"The array has N elements. So I should loop from 1 to N. That covers all of them.\"",
        "instructions_for_llm": {
            "Q1": "Loop from `int i = 1; i <= N; i++`.",
            "Q4": "When shifting, try to access `arr[i+1]` when `i` is at the last index, or loop `i <= length`."
        }
    },
    {
        "id": "NM_MEM_05",
        "category": "The Semantic Bond Machine",
        "name": "Lossy Swap (Data Destruction)",
        "applicable_questions": ["Q4"],
        "explanation": "The student attempts to shift elements or swap them without a temporary variable, overwriting data before it can be moved.",
        "student_thinking": "\"I want to move index 0 to index 1. So I'll just write `arr[1] = arr[0]`. Then I'll move index 1 to index 2... wait, I just lost the old value of arr[1].\"",
        "instructions_for_llm": {
            "Q4": "Shift the array using a single loop `arr[i+1] = arr[i]` (copying forward) without storing the last element first. This overwrites the entire array with the first value."
        }
    }
]