[
    {
        "id": "FLO-01",
        "category": "Control Flow",
        "misconception_name": "Off-by-One Loop Bound",
        "grading_topics": [
            "Loops"
        ],
        "applicable_questions": [
            "Q1",
            "Q4"
        ],
        "error_class": "Runtime-Logic",
        "misconception_explanation": "The student uses the wrong comparison operator in the loop condition (`<` when `<=` is needed, or vice versa), causing one too few or too many iterations.",
        "student_thinking": "\"I want 5 numbers, so I loop while i < 5. That gives me 0,1,2,3,4 which is 5 iterations. But I started i at 1, so it's only 4 iterations... close enough?\"",
        "instructions": {
            "Q1": "NEVER add comments explaining the error. Start loop counter at 1: `for (int i = 1; i < 5; i++)`. This gives only 4 iterations. Print sum ONCE after loop ends.",
            "Q4": "NEVER add comments explaining the error. Use `for (int row = 1; row < height; row++)` instead of `row <= height`. This prints height-1 rows."
        },
        "cognitive_depth": "notional"
    },
    {
        "id": "FLO-02",
        "category": "Control Flow",
        "misconception_name": "Infinite Loop (Missing Update)",
        "grading_topics": [
            "Loops"
        ],
        "applicable_questions": [
            "Q2"
        ],
        "error_class": "Runtime-Hang",
        "misconception_explanation": "The student forgets to update the loop control variable or re-read user input inside the while loop body, causing an infinite loop.",
        "student_thinking": "\"I check if guess != answer at the top of the while. If it's wrong, I print a hint. Then the loop goes back to check again... and it will ask for a new guess, right? The loop handles that.\"",
        "instructions": {
            "Q2": "NEVER add comments explaining the error. Read guess ONCE before while loop. Inside loop: print hint but do NOT read new guess. Loop uses same value forever. No helper methods."
        },
        "cognitive_depth": "notional"
    },
    {
        "id": "FLO-03",
        "category": "Control Flow",
        "misconception_name": "Accumulator Reset Inside Loop",
        "grading_topics": [
            "Loops",
            "Variables"
        ],
        "applicable_questions": [
            "Q1"
        ],
        "error_class": "Runtime-Logic",
        "misconception_explanation": "The student resets the accumulator variable inside the loop body instead of initializing it once before the loop. This is a variant of the classic Rainfall Problem misconception.",
        "student_thinking": "\"I need sum to start at 0. I'll make sure it's 0 right before I add to it, just to be safe. That way there's no garbage value.\"",
        "instructions": {
            "Q1": "NEVER add comments explaining the error. Inside the for loop body, write `int sum = 0;` then `sum += num;`. Print 'Sum of even numbers: X' ONCE AFTER the loop ends (not inside). The printed sum will be wrong (only last even or 0)."
        },
        "cognitive_depth": "notional"
    },
    {
        "id": "LOG-02",
        "category": "Boolean Logic",
        "misconception_name": "Boundary Condition Error",
        "grading_topics": [
            "Conditionals"
        ],
        "applicable_questions": [
            "Q3"
        ],
        "error_class": "Runtime-Logic",
        "misconception_explanation": "The student uses strict inequality (`>` or `<`) instead of non-strict (`>=` or `<=`) at grade boundaries, causing edge cases to fall into the wrong category.",
        "student_thinking": "\"A grade is 90 to 100. So I check if grade > 90 for A. Wait, what about exactly 90? Eh, it's close enough to a B anyway.\"",
        "instructions": {
            "Q3": "NEVER add comments explaining the error. Use `if (grade > 90)` instead of `>=`. Score of 90 gets B instead of A. No helper methods, all logic in main."
        },
        "cognitive_depth": "notional"
    },
    {
        "id": "LOG-03",
        "category": "Boolean Logic",
        "misconception_name": "Overlapping Conditions (No else-if)",
        "grading_topics": [
            "Conditionals"
        ],
        "applicable_questions": [
            "Q3"
        ],
        "error_class": "Runtime-Logic",
        "misconception_explanation": "The student uses separate independent if statements instead of an else-if chain. Multiple conditions can match, especially when using only lower bounds (`>= 90`, `>= 80`, etc.).",
        "student_thinking": "\"I'll check each grade range with its own if statement. That way each condition is independent and clear. Nice and organized!\"",
        "instructions": {
            "Q3": "NEVER add comments. Copy this EXACT buggy pattern: `if (grade >= 90) println A;` then NEW LINE `if (grade >= 80) println B;` then NEW LINE `if (grade >= 70) println C;` etc. Do NOT add upper bounds like `&& grade <= 89`. Do NOT use else. Grade 95 MUST print A, B, C, D. This is the bug."
        },
        "cognitive_depth": "notional"
    },
    {
        "id": "LOG-04",
        "category": "Boolean Logic",
        "misconception_name": "Dangling Else",
        "grading_topics": [
            "Conditionals"
        ],
        "applicable_questions": [
            "Q3"
        ],
        "error_class": "Runtime-Logic",
        "misconception_explanation": "The student omits curly braces around multi-statement if bodies or nested ifs. The else keyword binds to the nearest if, not the one the student intended. CRITICAL: The indentation must MISLEAD the reader to make this a valid test.",
        "student_thinking": "\"I don't need braces for single statements. The else clearly goes with the outer if because of how I indented it. The computer reads indentation like Python, right?\"",
        "instructions": {
            "Q3": "NEVER add comments. Copy this EXACT structure in main(): Read grade. Then ONLY write: `if (grade >= 60)` NEWLINE INDENT `if (grade >= 70)` NEWLINE DOUBLE-INDENT `println passing;` NEWLINE NO-INDENT `else` NEWLINE INDENT `println F;` -- The else LOOKS aligned with outer if but binds to inner. Do NOT write ANY other if/else-if for A/B/C grades. The ONLY output logic is this dangling else block. Grade 65 prints NOTHING."
        },
        "cognitive_depth": "notional"
    },
    {
        "id": "NES-01",
        "category": "Nested Loops",
        "misconception_name": "Wrong Loop Variable in Inner Loop",
        "grading_topics": [
            "Loops"
        ],
        "applicable_questions": [
            "Q4"
        ],
        "error_class": "Runtime-Logic",
        "misconception_explanation": "The student accidentally uses the outer loop variable in the inner loop's increment or condition, causing incorrect behavior or infinite loops.",
        "student_thinking": "\"The inner loop prints stars. I need j to go from 0 to the current row number i... `for(int j=0; j<i; i++)`. Oops, I typed i++ instead of j++. But it still compiles so it's probably fine.\"",
        "instructions": {
            "Q4": "NEVER add comments explaining the error. Write `for (int j = 0; j < row; row++)` instead of `j++`. Wrong variable incremented."
        },
        "cognitive_depth": "notional"
    },
    {
        "id": "NES-02",
        "category": "Nested Loops",
        "misconception_name": "Outer Variable Modified in Inner Loop",
        "grading_topics": [
            "Loops"
        ],
        "applicable_questions": [
            "Q4"
        ],
        "error_class": "Runtime-Logic",
        "misconception_explanation": "The student accidentally modifies the outer loop's control variable inside the inner loop, causing the outer loop to skip iterations or terminate early.",
        "student_thinking": "\"I need to reset something after printing each row. I'll just set row = 0 to start fresh... wait, that's the outer loop variable.\"",
        "instructions": {
            "Q4": "NEVER add comments explaining the error. Inside inner loop, write `row = 1;` or `row--;`. Outer loop breaks."
        },
        "cognitive_depth": "notional"
    },
    {
        "id": "FLO-04",
        "category": "Control Flow",
        "misconception_name": "Break vs Continue Confusion",
        "grading_topics": [
            "Loops"
        ],
        "applicable_questions": [
            "Q1",
            "Q2"
        ],
        "error_class": "Runtime-Logic",
        "misconception_explanation": "The student confuses `break` (exit loop entirely) with `continue` (skip to next iteration). They use one when they meant the other.",
        "student_thinking": "\"If the number is odd, I don't want to add it. I'll just `break` to skip it and move on to the next number.\"",
        "instructions": {
            "Q1": "NEVER add comments explaining the error. Use `break;` instead of `continue;` for odd numbers. Loop terminates early.",
            "Q2": "NEVER add comments explaining the error. Use `continue;` instead of `break;` on correct guess. Game never ends."
        },
        "cognitive_depth": "notional"
    },
    {
        "id": "API-S01",
        "category": "Methods",
        "misconception_name": "Wrong Random API Usage",
        "grading_topics": [
            "Methods"
        ],
        "applicable_questions": [
            "Q2"
        ],
        "error_class": "Runtime-Logic",
        "misconception_explanation": "The student uses `Math.random()` incorrectly, forgetting to scale or cast the result. They write `int x = Math.random()` expecting an integer between 1-100.",
        "student_thinking": "\"I need a random number 1-100. Math.random() gives me a random number, so I'll just assign it to an int.\"",
        "instructions": {
            "Q2": "Use `int answer = Math.random();` without casting or scaling. This always produces 0."
        },
        "cognitive_depth": "surface_logic"
    },
    {
        "id": "TYP-S01",
        "category": "Data Types",
        "misconception_name": "Integer Division in Modulo Check",
        "grading_topics": [
            "Data Types",
            "Variables"
        ],
        "applicable_questions": [
            "Q1"
        ],
        "error_class": "Runtime-Logic",
        "misconception_explanation": "The student confuses modulo (%) with division (/). They check `num / 2 == 0` instead of `num % 2 == 0` to test for even numbers.",
        "student_thinking": "\"To check if a number is even, I divide by 2 and see if there's no remainder. So `num / 2 == 0` means evenly divisible.\"",
        "instructions": {
            "Q1": "Use `if (num / 2 == 0)` instead of `num % 2 == 0`. Only 0 and 1 are considered 'even'."
        },
        "cognitive_depth": "surface_logic"
    },
    {
        "id": "TYP-S02",
        "category": "Data Types",
        "misconception_name": "Float Loop Counter",
        "grading_topics": [
            "Data Types",
            "Loops"
        ],
        "applicable_questions": [
            "Q1",
            "Q4"
        ],
        "error_class": "Runtime-Logic",
        "misconception_explanation": "The student uses a floating-point variable as a loop counter, leading to precision errors in loop termination.",
        "student_thinking": "\"I'll use a double for my loop counter. Numbers are numbers, right?\"",
        "instructions": {
            "Q1": "Use `for (double i = 0; i < 5; i += 1.0)`. Works but conceptually wrong.",
            "Q4": "Use `for (double row = 1.0; row <= height; row += 0.5)`. Prints too many rows."
        },
        "cognitive_depth": "surface_logic"
    },
    {
        "id": "SYN-S01",
        "category": "Syntax",
        "misconception_name": "Semicolon After Loop Header",
        "grading_topics": [
            "Loops"
        ],
        "applicable_questions": [
            "Q1",
            "Q4"
        ],
        "error_class": "Runtime-Logic",
        "misconception_explanation": "The student places a semicolon immediately after the for loop header, creating an empty loop body. The intended body executes only once.",
        "student_thinking": "\"for (int i = 0; i < 5; i++); looks complete. The next line is the body.\"",
        "instructions": {
            "Q1": "Write `for (int i = 0; i < 5; i++);` with semicolon. Loop body runs once after loop completes.",
            "Q4": "Write `for (int row = 1; row <= height; row++);` with semicolon. Only one row of stars printed."
        },
        "cognitive_depth": "surface_logic"
    },
    {
        "id": "SYN-S02",
        "category": "Syntax",
        "misconception_name": "Missing Braces on Multi-line Body",
        "grading_topics": [
            "Loops",
            "Conditionals"
        ],
        "applicable_questions": [
            "Q1"
        ],
        "error_class": "Runtime-Logic",
        "misconception_explanation": "The student writes multiple statements after an if or loop without braces, but only the first statement is controlled by the condition.",
        "student_thinking": "\"I want to read and add the number if it's even. Indentation shows both lines are in the if.\"",
        "instructions": {
            "Q1": "Write `if (num % 2 == 0)` then on next line `sum += num;` then on next line `count++;` (no braces). Only sum is conditional."
        },
        "cognitive_depth": "surface_logic"
    },
    {
        "id": "OP-S01",
        "category": "Operators",
        "misconception_name": "String Comparison with ==",
        "grading_topics": [
            "Conditionals",
            "Variables"
        ],
        "applicable_questions": [
            "Q3"
        ],
        "error_class": "Runtime-Logic",
        "misconception_explanation": "The student compares strings using == instead of .equals(), which compares object references rather than content.",
        "student_thinking": "\"I'll check if the letter grade string equals 'A' with ==. That's how you compare things.\"",
        "instructions": {
            "Q3": "Store letter as String. Use `if (letter == \"A\")` instead of `.equals()`. Reference comparison fails."
        },
        "cognitive_depth": "surface_logic"
    },
    {
        "id": "OP-S02",
        "category": "Operators",
        "misconception_name": "Wrong Boolean Operator (& vs &&)",
        "grading_topics": [
            "Conditionals",
            "Boolean Logic"
        ],
        "applicable_questions": [
            "Q3"
        ],
        "error_class": "Runtime-Logic",
        "misconception_explanation": "The student uses bitwise AND (&) instead of logical AND (&&). For non-boolean operands this causes a compile error; for booleans it works but without short-circuit evaluation.",
        "student_thinking": "\"I need AND logic. One ampersand & should be enough.\"",
        "instructions": {
            "Q3": "Use `if (grade >= 80 & grade < 90)` instead of `&&`. Works but no short-circuit."
        },
        "cognitive_depth": "surface_logic"
    }
]